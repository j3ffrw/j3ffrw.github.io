<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="core">
<meta name="description"
    content="Problem:
accounts created by smbpasswd -a does not work with samba-3.5.10-125.el6.x86_64 though it was working fine on a previous version I was using, samba-3.0.33-3.38.el5_8. Both ship with centos 5.8 and centos 6.3 respectively.
increasing log level = 3 shows the following error on samba 3.5.10 which where not on 3.0.33
*ntlm_password_check: Lanman passwords NOT PERMITTED for user myuser
On the client side, Netbootdisk on my instance, it is saying that my password is invalid." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/p220/" />


<title>
    
    Problem logging in from Netbootdisk into smb share after using Samba v3.5.10 :: Tech notes and other stuff 
    
</title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.min.16d60143b50f3c64d846008954e06bf568fb18de4ea608c045060affbf09b965.css">



<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627"><meta itemprop="name" content="Problem logging in from Netbootdisk into smb share after using Samba v3.5.10">
<meta itemprop="description" content="Problem:
accounts created by smbpasswd -a does not work with samba-3.5.10-125.el6.x86_64 though it was working fine on a previous version I was using, samba-3.0.33-3.38.el5_8. Both ship with centos 5.8 and centos 6.3 respectively.
increasing log level = 3 shows the following error on samba 3.5.10 which where not on 3.0.33
*ntlm_password_check: Lanman passwords NOT PERMITTED for user myuser
On the client side, Netbootdisk on my instance, it is saying that my password is invalid.">
<meta itemprop="datePublished" content="2012-11-13T05:46:40+00:00" />
<meta itemprop="dateModified" content="2012-11-13T05:46:40+00:00" />
<meta itemprop="wordCount" content="275">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Problem logging in from Netbootdisk into smb share after using Samba v3.5.10"/>
<meta name="twitter:description" content="Problem:
accounts created by smbpasswd -a does not work with samba-3.5.10-125.el6.x86_64 though it was working fine on a previous version I was using, samba-3.0.33-3.38.el5_8. Both ship with centos 5.8 and centos 6.3 respectively.
increasing log level = 3 shows the following error on samba 3.5.10 which where not on 3.0.33
*ntlm_password_check: Lanman passwords NOT PERMITTED for user myuser
On the client side, Netbootdisk on my instance, it is saying that my password is invalid."/>



<meta property="article:section" content="Linux" />

<meta property="article:published_time" content="2012-11-13 05:46:40 &#43;0000 &#43;0000" />







    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">hello world</span>
            <span class="logo__cursor"></span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/posts">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/p220/">Problem logging in from Netbootdisk into smb share after using Samba v3.5.10</a></h2>

            

            <div class="post-content">
                <p>Problem:</p>
<p>accounts created by smbpasswd -a does not work with samba-3.5.10-125.el6.x86_64 though it was working fine on a previous version I was using, samba-3.0.33-3.38.el5_8. Both ship with centos 5.8 and centos 6.3 respectively.</p>
<p>increasing log level = 3 shows the following error on samba 3.5.10 which where not on 3.0.33</p>
<p>*ntlm_password_check: Lanman passwords NOT PERMITTED for user myuser</p>
<p>On the client side, Netbootdisk on my instance, it is saying that my password is invalid. But on Windows desktop I was able to log in just fine.</p>
<p>comparing the output of <code>testparm -v</code> on both version shows that samba 3.5.8 change some default settings from lower version if it were not specified on your smb.conf. Particularly the lanman auth was set to No by default which cause the above Lanman passwords NOT PERMITTED â€¦ error.</p>
<p>lower version: lanman auth = Yes</p>
<ul>
<li></li>
</ul>
<p>newer version: lanman auth = No</p>
<p>After entering lanman auth = Yes into smb.conf</p>
<p>The error changed to</p>
<p>*ntlm_password_check: NO LanMan password set for user myuser (and no NT password supplied)</p>
<p>after fiddling around with the other default settings I was still stuck with that error.Then I decided to issue again the command</p>
<p><code>smbpasswd -a myuser</code></p>
<p>and this solve my problem I was now able to login into samba 3.5.10 from Netbootdisk like before.</p>
<p>It seems that smbpasswd will not create a LanMan password if the lanman auth setting was left on its own and you have to reissue that smbpasswd command in case you decided to change lanman auth to Yes it later on.</p>
<p>Not sure if it were in the release notes I did not bother to read them maybe I should have.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
  			</div>

        
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2020</span>
            
            <span></span>
            <span> <a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">

        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">rhazdon</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.4c3fb12a087ceed4a52cb5d57068a9795c7069617a01ca70f788052ad66e1791779e6c72686e1dc0ca13dc03b0203204b6566bb0dd1ee80de2b7ff4d8fe53db2.js" integrity="sha512-TD&#43;xKgh87tSlLLXVcGipeVxwaWF6Acpw94gFKtZuF5F3nmxyaG4dwMoT3AOwIDIEtlZrsN0e6A3it/9Nj&#43;U9sg=="></script>



    </body>
</html>
